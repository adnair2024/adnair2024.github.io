<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Plugins on Ash's Blog</title><link>https://adnair2024.github.io/blog/tags/plugins.html</link><description>Recent Posts in Plugins on Ash's Blog</description><generator>Hugo 0.153.4</generator><language>en-us</language><lastBuildDate>Mon, 29 Dec 2025 18:40:26 +0000</lastBuildDate><atom:link href="https://adnair2024.github.io/blog/tags/plugins/index.xml" rel="self" type="application/rss+xml"/><item><title>How to Publish a Neovim Plugin</title><link>https://adnair2024.github.io/blog/post/how-to-publish-nvim-plugin.html</link><pubDate>Mon, 29 Dec 2025 10:51:04 -0600</pubDate><guid>https://adnair2024.github.io/blog/post/how-to-publish-nvim-plugin.html</guid><description>&lt;h2 id="turning-snippets-into-plugins-that-everyone-can-use"&gt;Turning snippets into plugins that everyone can use&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#turning-snippets-into-plugins-that-everyone-can-use"&gt;Table of Contents&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#the-structure-of-a-neovim-plugin"&gt;The Structure of a Neovim Plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#logic"&gt;Logic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dependencies-and-what-they-can-do-for-you"&gt;Dependencies and what they can do for you&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#publishing-and-usage"&gt;Publishing and Usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#conclusion"&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Every Neovim power-user reaches a point when their &lt;code&gt;init.lua&lt;/code&gt; becomes a mess of
old code snippets. Since I use Markdown files every day for notes, planning and
general writing, my breaking point was functions for Markdown formatting.
I was tired of manually aligning Markdown tables and manually creating
a Table of Contents for each file, along with streamlining embedding of
hyperlinks and images. I decided to extract that logic into a
dedicated plugin: &lt;a href="https://github.com/adnair2024/md-helper.nvim" target="_blank" rel="external noopener noreferrer nofollow"&gt;md-helper.nvim&lt;/a&gt;.&lt;/p&gt;</description><content:encoded>&lt;h2 id="turning-snippets-into-plugins-that-everyone-can-use"&gt;Turning snippets into plugins that everyone can use&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#turning-snippets-into-plugins-that-everyone-can-use"&gt;Table of Contents&lt;/a&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#the-structure-of-a-neovim-plugin"&gt;The Structure of a Neovim Plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#logic"&gt;Logic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#dependencies-and-what-they-can-do-for-you"&gt;Dependencies and what they can do for you&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#publishing-and-usage"&gt;Publishing and Usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#conclusion"&gt;Conclusion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Every Neovim power-user reaches a point when their &lt;code&gt;init.lua&lt;/code&gt; becomes a mess of
old code snippets. Since I use Markdown files every day for notes, planning and
general writing, my breaking point was functions for Markdown formatting.
I was tired of manually aligning Markdown tables and manually creating
a Table of Contents for each file, along with streamlining embedding of
hyperlinks and images. I decided to extract that logic into a
dedicated plugin: &lt;a href="https://github.com/adnair2024/md-helper.nvim" target="_blank" rel="external noopener noreferrer nofollow"&gt;md-helper.nvim&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you&amp;rsquo;ve ever wanted to publish your own plugin for Neovim, I&amp;rsquo;ll be using my
plugin as a case study for the logic and structure required for smoothly deploying
a plugin to GitHub.&lt;/p&gt;
&lt;h3 id="the-structure-of-a-neovim-plugin"&gt;The Structure of a Neovim Plugin&lt;/h3&gt;
&lt;p&gt;A plugin is a directory on GitHub that Neovim knows how to look into and search.
The most important part is the &lt;code&gt;lua/&lt;/code&gt; directory. When you create this folder and
add a directory for your plugin like &lt;code&gt;lua/md-helper&lt;/code&gt;, users can access the md-helper
plugin anywhere in Neovim by calling &lt;code&gt;require (&amp;quot;md-helper&amp;quot;)&lt;/code&gt;. I named my GitHub
repository &lt;code&gt;md-helper.nvim&lt;/code&gt; for discovery purposes, while leaving the internal
module name as &lt;code&gt;md-helper&lt;/code&gt;.&lt;/p&gt;
&lt;h3 id="logic"&gt;Logic&lt;/h3&gt;
&lt;p&gt;When building a Neovim plugin, thinking in terms of the buffer is important. Here
is the logic behind the core of the plugin:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Table of Contents - &lt;code&gt;(generate_toc)&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;Aim: Scan a file and create clickable nested links to the Markdown
headers found within it.&lt;/li&gt;
&lt;li&gt;Logic: The function scans every line of the selected buffer, and counts
the number of &lt;code&gt;#&lt;/code&gt; symbols to determine the depth (e.g. &lt;code&gt;###&lt;/code&gt; is a level
3 header).&lt;/li&gt;
&lt;li&gt;Link: To make the items clickable, the text &amp;ldquo;My Header&amp;rdquo; must become
&lt;code&gt;(#my_header)&lt;/code&gt;. My code handles this &amp;ldquo;slugification&amp;rdquo; by converting the
string to lowercase, stripping special characters, and replacing spaces
with hyphens to match standard Markdown parsers.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Below the following code block, I&amp;rsquo;ll supply a screenshot of the output of the
&lt;code&gt;generate_toc&lt;/code&gt; command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;M.generate_toc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; lines &lt;span style="color:#f92672"&gt;=&lt;/span&gt; vim.api.nvim_buf_get_lines(&lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;, &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;, &lt;span style="color:#f92672"&gt;-&lt;/span&gt;&lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; toc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; { &lt;span style="color:#e6db74"&gt;&amp;#34;## Table of Contents&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&lt;/span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; found_header &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; _, line &lt;span style="color:#66d9ef"&gt;in&lt;/span&gt; ipairs(lines) &lt;span style="color:#66d9ef"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Match lines starting with 1 to 6 &amp;#39;#&amp;#39; characters&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; level, title &lt;span style="color:#f92672"&gt;=&lt;/span&gt; line:match(&lt;span style="color:#e6db74"&gt;&amp;#34;^(#+)%s+(.*)$&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; level &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; found_header &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; depth &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#f92672"&gt;#&lt;/span&gt;level
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Ignore the TOC header itself if it already exists&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; title &lt;span style="color:#f92672"&gt;~=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Table of Contents&amp;#34;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Strip markdown links from title: [Name](URL) -&amp;gt; Name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; clean_title &lt;span style="color:#f92672"&gt;=&lt;/span&gt; title:gsub(&lt;span style="color:#e6db74"&gt;&amp;#34;%[([^%]]+)%]%s*%b()&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;%1&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Convert clean title to a slug (e.g., &amp;#34;My Heading&amp;#34; -&amp;gt; &amp;#34;my-heading&amp;#34;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; slug &lt;span style="color:#f92672"&gt;=&lt;/span&gt; clean_title:lower():gsub(&lt;span style="color:#e6db74"&gt;&amp;#34;%s+&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;-&amp;#34;&lt;/span&gt;):gsub(&lt;span style="color:#e6db74"&gt;&amp;#34;[^%w%-]&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Indent based on heading level (2 spaces per level)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; indent &lt;span style="color:#f92672"&gt;=&lt;/span&gt; string.rep(&lt;span style="color:#e6db74"&gt;&amp;#34; &amp;#34;&lt;/span&gt;, depth &lt;span style="color:#f92672"&gt;-&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; table.insert(toc, string.format(&lt;span style="color:#e6db74"&gt;&amp;#34;%s* [%s](#%s)&amp;#34;&lt;/span&gt;, indent, clean_title, slug))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;not&lt;/span&gt; found_header &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; print(&lt;span style="color:#e6db74"&gt;&amp;#34;No headers found to create a TOC!&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Insert the TOC at the current cursor position&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.api.nvim_put(toc, &lt;span style="color:#e6db74"&gt;&amp;#34;l&amp;#34;&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Output:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;img src="https://i.imgur.com/gVBqDBJ.png" alt="output-toc"&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Dynamic Table Creation&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Aim: Eliminate the need to manually align pipes to create a markdown table.&lt;/li&gt;
&lt;li&gt;Logic: I used &lt;code&gt;vim.ui.input&lt;/code&gt; to ask the user for &amp;ldquo;Rows&amp;rdquo; and &amp;ldquo;Columns&amp;rdquo;. The
plugin then creates a string grid with the specified number of pipes and
separators. Then it uses &lt;code&gt;vim.api.nvim_put&lt;/code&gt; to insert the text block
containing the table where your cursor is located.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;M.create_table &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.ui.input({ prompt &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Number of Rows: &amp;#34;&lt;/span&gt; }, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;(rows)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;not&lt;/span&gt; rows &lt;span style="color:#f92672"&gt;or&lt;/span&gt; rows &lt;span style="color:#f92672"&gt;==&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.ui.input({ prompt &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Number of Columns: &amp;#34;&lt;/span&gt; }, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;(cols)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;not&lt;/span&gt; cols &lt;span style="color:#f92672"&gt;or&lt;/span&gt; cols &lt;span style="color:#f92672"&gt;==&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; r, c &lt;span style="color:#f92672"&gt;=&lt;/span&gt; tonumber(rows), tonumber(cols)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;not&lt;/span&gt; r &lt;span style="color:#f92672"&gt;or&lt;/span&gt; &lt;span style="color:#f92672"&gt;not&lt;/span&gt; c &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; print(&lt;span style="color:#e6db74"&gt;&amp;#34;Error: Rows and Columns must be numbers&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; lines &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Build Header: | | |&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; table.insert(lines, &lt;span style="color:#e6db74"&gt;&amp;#34;| &amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;..&lt;/span&gt; string.rep(&lt;span style="color:#e6db74"&gt;&amp;#34; | &amp;#34;&lt;/span&gt;, c))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Build Separator: |---|---|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; table.insert(lines, &lt;span style="color:#e6db74"&gt;&amp;#34;| &amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;..&lt;/span&gt; string.rep(&lt;span style="color:#e6db74"&gt;&amp;#34;--- | &amp;#34;&lt;/span&gt;, c))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Build Rows&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; _ &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;, r &lt;span style="color:#66d9ef"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; table.insert(lines, &lt;span style="color:#e6db74"&gt;&amp;#34;| &amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;..&lt;/span&gt; string.rep(&lt;span style="color:#e6db74"&gt;&amp;#34; | &amp;#34;&lt;/span&gt;, c))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.api.nvim_put(lines, &lt;span style="color:#e6db74"&gt;&amp;#34;l&amp;#34;&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Image and Link Wrappers
&lt;ul&gt;
&lt;li&gt;Aim: Reduce time taken to create an image embed or hyperlink.&lt;/li&gt;
&lt;li&gt;Logic: These wrappers use Lua&amp;rsquo;s built-in string formatting to take two
inputs (like description and URL) and drop the text block where your
cursor is sitting.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;M.create_link &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.ui.input({ prompt &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Display Text: &amp;#34;&lt;/span&gt; }, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;(text)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;not&lt;/span&gt; text &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.ui.input({ prompt &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;URL: &amp;#34;&lt;/span&gt; }, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;(url)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; url &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; insert_text(string.format(&lt;span style="color:#e6db74"&gt;&amp;#34;[%s](%s)&amp;#34;&lt;/span&gt;, text, url))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- FUNCTION: Image Wrapper&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;M.create_image &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.ui.input({ prompt &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Alt Description: &amp;#34;&lt;/span&gt; }, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;(alt)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;not&lt;/span&gt; alt &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.ui.input({ prompt &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Image URL/Path: &amp;#34;&lt;/span&gt; }, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;(path)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; path &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; insert_text(string.format(&lt;span style="color:#e6db74"&gt;&amp;#34;![%s](%s)&amp;#34;&lt;/span&gt;, alt, path))
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You may notice that we use a function called &lt;code&gt;insert_text&lt;/code&gt;. This wraps the
&lt;code&gt;vim.api.nvim_put&lt;/code&gt; function because it allows for more precise control over
cursor placement and for undo-history compared to the usual &amp;ldquo;append&amp;rdquo; commands with
respect to the current line state and indentation. This ensures that when a
link or images are generated, it is added into the buffer with indentation and current line state kept in mind.&lt;/p&gt;
&lt;h3 id="dependencies-and-what-they-can-do-for-you"&gt;Dependencies and what they can do for you&lt;/h3&gt;
&lt;p&gt;The best part about the neovim community is that you&amp;rsquo;ll never have to reinvent
the wheel. I use a plugin called &lt;a href="https://github.com/MeanderingProgrammer/render-markdown.nvim" target="_blank" rel="external noopener noreferrer nofollow"&gt;render_markdown.nvim&lt;/a&gt; to
display the Markdown elements (links, tables, image links) within Neovim. This way,
once &lt;code&gt;md_helper.nvim&lt;/code&gt; creates the table, &lt;code&gt;render_markdown.nvim&lt;/code&gt; makes it visually
appealing. This is why I think it&amp;rsquo;s a great plugin to have as a dependency for
&lt;code&gt;md_helper.nvim&lt;/code&gt;. Below I&amp;rsquo;ll add screenshots of markdown tables with and without the
dependency plugin:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://i.imgur.com/KjvPIwr.png" alt="without"&gt;&lt;img src="https://i.imgur.com/VqHsjhk.png" alt="with"&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;The first image shows the raw markdown table, and the second one shows the
markdown table rendered with &lt;code&gt;render_markdown.nvim&lt;/code&gt;.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="publishing-and-usage"&gt;Publishing and Usage&lt;/h3&gt;
&lt;p&gt;Once I tested it locally, I proceeded to push my code to GitHub. To make my project
more professional, I added a detailed README.md that included a configuration
block for &lt;code&gt;Lazy.nvim&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;adnair2024/md-helper.nvim&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; dependencies &lt;span style="color:#f92672"&gt;=&lt;/span&gt; { 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;MeanderingProgrammer/render-markdown.nvim&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ft &lt;span style="color:#f92672"&gt;=&lt;/span&gt; { &lt;span style="color:#e6db74"&gt;&amp;#34;markdown&amp;#34;&lt;/span&gt; }, &lt;span style="color:#75715e"&gt;-- Load only on markdown files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; config &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; md_helper &lt;span style="color:#f92672"&gt;=&lt;/span&gt; require(&lt;span style="color:#e6db74"&gt;&amp;#34;md-helper&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Recommended Keybindings&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- You can customize these keys to whatever fits your workflow&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Generate Table of Contents&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;lt;leader&amp;gt;mc&amp;#34;&lt;/span&gt;, md_helper.generate_toc, { desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Markdown: Create TOC&amp;#34;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Create Table (Prompts for Rows x Cols)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;lt;leader&amp;gt;mt&amp;#34;&lt;/span&gt;, md_helper.create_table, { desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Markdown: Table&amp;#34;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Insert Link (Prompts for Text &amp;amp; URL)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;lt;leader&amp;gt;ml&amp;#34;&lt;/span&gt;, md_helper.create_link, { desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Markdown: Link&amp;#34;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- Insert Image (Prompts for Alt Text &amp;amp; Path)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#34;n&amp;#34;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;lt;leader&amp;gt;mi&amp;#34;&lt;/span&gt;, md_helper.create_image, { desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Markdown: Image&amp;#34;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I also made sure to add instructions in the README.md on how to set up whichkey
keybinds, in case someone uses them, as I do. Now that it&amp;rsquo;s on GitHub and Lazy.nvim
automatically pulls from GitHub, we are ready to go. Anyone who uses a Lazy.nvim
&lt;code&gt;init.lua&lt;/code&gt; can use my plugin directly in Neovim, by calling &lt;code&gt;adnair2024/md-helper.nvim&lt;/code&gt;.
It&amp;rsquo;s also important to note that the folder structure is strict, and should be
the following, since Neovim always looks into the &lt;code&gt;lua/&lt;/code&gt; folder located into the
root directory of your repository.&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;|- md-helper.nvim/
 |- lua/
 |- md-helper/
 |- init.lua - All functions stored here
 |- README.md
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id="conclusion"&gt;Conclusion&lt;/h3&gt;
&lt;p&gt;Publishing &lt;code&gt;md-helper.nvim&lt;/code&gt; taught me how simple and lightweight it is to develop
plugins for Neovim. You just need a tool that solves a specific problem for you
and by publishing it as a plugin to GitHub, you can help others who have this
problem as well. By following the &lt;code&gt;lua/&lt;/code&gt; directory standard and also adding
in existing dependencies, you can build something simple that feels like a native
Neovim feature and not an external plugin.&lt;/p&gt;</content:encoded><category>Neovim</category></item></channel></rss>